<?xml version="1.0"?>
<!DOCTYPE metaconfiguration SYSTEM "meta.dtd">

<!-- $Id$ -->

<metaconfiguration>
<classes>

	<class name="Unit" extends="i18n">
		<properties>
			<identifier name="id" />
			<property name="name" type="String" size="16" required="false" />
			<property name="sign" type="String" size="16" required="false" />
			<!-- property name="cast" type="Integer" required="true" / >  <!- - representation (not sure) -->
		</properties>
		<pattern name="StraightMapping" />
	</class>

	<class name="Unit_i18n">
		<properties>
			<identifier name="id" />
			<property name="object" type="Unit" relation="OneToOne" required="true" fetch="lazy" />
			<property name="language" type="Language" relation="OneToOne" required="true" fetch="lazy" />
			<property name="name" type="String" size="16" required="true" />
		</properties>
		<pattern name="StraightMapping" />
	</class>

	<class name="FeatureTypeGroup">
		<properties>
			<identifier name="id" />
			<property name="name" type="String" size="16" required="false" />
		</properties>
		<pattern name="EnumerationClass" />
	</class>
	<class name="OfferType">
		<properties>
			<identifier name="id" />
			<property name="name" type="String" size="16" required="false" />
		</properties>
		<pattern name="EnumerationClass" />
	</class>

	<class name="FeatureType" extends="i18n">
		<properties>
			<identifier name="id" />
			<property name="name" type="String" size="16" required="false" />
			<property name="unit" type="Unit" relation="OneToOne" required="false" fetch="lazy" />
			<property name="group" type="FeatureTypeGroup" relation="OneToOne" required="false" fetch="lazy" />
			<property name="weight" type="Integer" required="true" default="1" /> <!-- for relevant serarch -->
		</properties>
		<pattern name="StraightMapping" />
	</class>

	<class name="FeatureType_i18n">
		<properties>
			<identifier name="id" />
			<property name="object" type="FeatureType" relation="OneToOne" required="true" fetch="lazy" />
			<property name="language" type="Language" relation="OneToOne" required="true" fetch="lazy" />
			<property name="name" type="String" size="16" required="true" />
		</properties>
		<pattern name="StraightMapping" />
	</class>

	<class name="RealtyType" extends="i18n">
		<properties>
			<identifier name="id" />
			<property name="name" type="String" size="16" required="false" />
		</properties>
		<pattern name="StraightMapping" />
	</class>

	<class name="RealtyType_i18n">
		<properties>
			<identifier name="id" />
			<property name="object" type="RealtyType" relation="OneToOne" required="true" fetch="lazy" />
			<property name="language" type="Language" relation="OneToOne" required="true" fetch="lazy" />
			<property name="name" type="String" size="16" required="true" />
		</properties>
		<pattern name="StraightMapping" />
	</class>

	<class name="Feature" type="final">
		<properties>
			<identifier name="id" />
			<!-- current feature instance description ? -->
			<!-- property name="content" type="String" size="128" required="false" / -->
			<property name="type" type="FeatureType" relation="OneToOne" required="true" fetch="lazy"/>
			<property name="value" type="BigInteger" required="false" />
			<property name="realty" type="Realty" relation="OneToOne" required="true" fetch="lazy" />
		</properties>
		<pattern name="StraightMapping" />
	</class>

	<class name="RealtyPicture" extends="Picture">
		<properties>
			<property name="object" type="Realty" relation="OneToOne" required="true" fetch="lazy" />
		</properties>
		<pattern name="StraightMapping" />
	</class>
	
	<class name="Realty" extends="i18n">
		<implement interface="Pictured" />
		<implement interface="Created" />
		<implement interface="Published" />
		<properties>
			<identifier name="id" />
			<property name="name" type="String" size="128" required="false" />
			<property name="text" type="String" size="4096" required="false" />

			<property name="latitude" type="Numeric" size="10,6" required="false" />
			<property name="longitude" type="Numeric" size="10,6" required="false" />

			<!--property name="user" type="User" relation="OneToOne" required="true" fetch="lazy" / -->
			<!--property name="price" type="Numeric" size="10,2" required="false" /-->
			<property name="realtyType" type="RealtyType" relation="OneToOne" required="true" fetch="lazy" column="type_id" />
			<property name="offerType" type="OfferType" relation="OneToOne" required="true" fetch="lazy" column="offer_id" />
			<property name="city" type="City" relation="OneToOne" required="true" fetch="lazy" />
			<!-- property name="image" type="Picture" relation="OneToOne" required="false" fetch="lazy" column="image_id" / --> 

			<property name="created" type="Timestamp" required="true" />
			<property name="published" type="Timestamp" required="false" />

			<property name="pictures" type="RealtyPicture" relation="OneToMany" required="false" />
			<property name="features" type="Feature" relation="OneToMany" required="false" />
		</properties>
		<pattern name="StraightMapping" />
	</class>
	<class name="Realty_i18n">
		<properties>
			<identifier name="id" />
			<property name="object" type="Realty" relation="OneToOne" required="true" fetch="lazy" />
			<property name="language" type="Language" relation="OneToOne" required="true" fetch="lazy" />
			<property name="name" type="String" size="128" required="false" />
			<property name="text" type="String" size="4096" required="false" />
		</properties>
		<pattern name="StraightMapping" />
	</class>


</classes>
</metaconfiguration>
